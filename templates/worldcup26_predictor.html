{% extends 'base.html' %}

{% block title %}WC26 Predictor{% endblock %}

{% block content %}
<section class="hero p-4 p-md-5 my-4">
  <div class="row align-items-center g-4">
    <div class="col-lg-8">
      <p class="section-heading mb-2">FIFA World Cup 2026</p>
      <h1 class="h2 fw-semibold mb-3">Knockout Predictor</h1>
      <p class="mb-3">Pick group standings, choose which third-place teams advance, then click through the knockout bracket to predict every match through the Final and Bronze match. All logic follows the official 48-team Round of 32 bracket.</p>
      <div class="d-flex flex-wrap gap-2">
        <span class="badge text-bg-light">Auto-propagates winners</span>
        <span class="badge text-bg-light">Saves locally</span>
      </div>
    </div>
  </div>
</section>

<section class="py-4">
  <div class="content-card mx-auto">
    <div class="d-flex flex-column flex-lg-row gap-4">
      <div class="flex-fill">
        <h2 class="h5 fw-semibold mb-3">Step 1 · Set group finishes</h2>
        <p class="small text-muted mb-1">Edit team names if you like, then drag teams to rank 1st–4th.</p>
        <div class="small text-muted mb-3">Drag to reorder standings; top = 1st place.</div>
        <div id="group-stage" class="row g-3"></div>
      </div>
    </div>
  </div>
</section>

<section class="py-4">
  <div class="content-card mx-auto">
    <div class="d-flex flex-column flex-lg-row gap-4">
        <h2 class="h5 fw-semibold mb-3">Step 2 · Choose best third-placed teams (8 of 12)</h2>
        <p class="small text-muted mb-3">Only selected third-place teams can be used in eligible Round-of-32 slots.</p>
        <div id="third-place" class="row g-3"></div>
      </div>
    </div>
  </div>
</section>

<section class="py-4 full-bleed">
  <div class="content-card wide-card mx-auto">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div>
        <h2 class="h5 fw-semibold mb-1">Step 3 · Build the bracket</h2>
      </div>
      <div class="d-flex gap-2">
        <button class="btn btn-outline-secondary btn-sm" id="reset-bracket">Reset bracket</button>
        <button class="btn btn-outline-primary btn-sm" id="export-json">Export</button>
        <button class="btn btn-outline-primary btn-sm" id="import-json">Import</button>
        <input type="file" id="import-file" accept="application/json" class="d-none">
      </div>
    </div>
    <div id="bracket" class="bracket-wrapper"></div>
  </div>
</section>

{% endblock %}

{% block scripts %}
<script type="module" src="{{ url_for('static', filename='js/wc26_predictor.js') }}"></script>
{% endblock %}


